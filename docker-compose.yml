version: '2'

services:
  pantry-api:
    build:
      context: .
      dockerfile: api/Dockerfile
    ports:
      - 4300:4300
    env_file:
      - stack.env
    volumes:
      - pantry_data:/app/data
  pantry-ui:
    build:
      context: .
      dockerfile: ui/pantry-ui/Dockerfile
      args:
        - api_baseurl=${api_baseurl}
        - site_title=${site_title}
    ports:
      - 4200:4200

volumes:
  pantry_data: