<h2 mat-dialog-title>
    Add Stock: {{ data.product.title }}
</h2>

<mat-dialog-content>
    <div class="d-flex flex-column gap-3 py-2">
        <div *ngIf="stockItem.productBarcodeId" class="alert alert-info py-2 m-0 d-flex align-items-center">
            <mat-icon class="me-2">qr_code_scanner</mat-icon>
            <span>Matched Barcode: <strong>{{ useScannedBarcodeDescription() }}</strong></span>
        </div>

        <div class="row">
            <div class="col-12">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Quantity</mat-label>
                    <input matInput type="number" [(ngModel)]="stockItem.quantity" required min="0.01">
                    <span matSuffix class="ms-2 me-3" *ngIf="data.product.details?.unit">{{ data.product.details.unit
                        }}</span>
                </mat-form-field>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <mat-form-field appearance="outline" class="w-100">
                    <mat-label>Expiration Date</mat-label>
                    <input matInput [matDatepicker]="picker" [(ngModel)]="stockItem.expirationDate">
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>

        <div class="d-flex gap-3">
            <mat-checkbox [(ngModel)]="stockItem.frozen">Frozen</mat-checkbox>
            <mat-checkbox [(ngModel)]="stockItem.opened">Opened</mat-checkbox>
        </div>
    </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Cancel</button>
    <button mat-flat-button color="primary" (click)="save()">Add Stock</button>
</mat-dialog-actions>